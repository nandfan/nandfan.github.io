<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
<!-- 2024-06-23 Sun 15:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="author" content="nandfan" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<p>
checkout到其他分支进行编译.
</p>


<p>
一、Debug
1.GN构建
（1）列出targets
列出所有的targets到out.txt文件，在src目录下执行：
</p>

<p>
gn ls out/default &gt; ../out.txt
1
out.txt内容：
</p>

<p>
<i>/:blink_python_tests
/</i>:blink_tests
<i>/:blink_web_tests
/</i>:blink_web_tests_exparchive
<i>/:chrome_official_builder
/</i>:chrome_official_builder_no_unittests
<i>/:chromium_builder_asan
/</i>:chromium_builder_perf
<i>/:gn_all
/</i>:gn_visibility
<i>/:layout_test_data_mojo_bindings
/</i>:layout_test_data_mojo_bindings_lite
<i>/:run_web_tests
/</i>:shipped_binaries
<i>/:webdriver_wpt_tests
/</i>:wpt_tests_isolate
//apps:apps
//apps:test_support
//apps/ui/views:views
&#x2026;&#x2026;
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
列出Base目录及其子目录下所有的targets，在src目录下执行：
</p>

<p>
$ gn ls out/Default //third_party/*
1
​　更多信息请参考ChromiumGN构建工具的使用。
</p>

<p>
（2）修改GN文件
比如你想为某个模块加一些文件，就可以修改 .gn 文件，修改 sources 变量，直接把你的源文件加进去。此处添加的文件为html_spider_data.h和html_spider_data.cc。
</p>

<p>
​　注意："html_spider_data.h"和"html_spider_data.cc"行前面不要用Tab键，要用空格。
</p>

<p>
sources += [
    "html_spider_data.h",
    "html_spider_data.cc",
  ]
1
2
3
4
​　若你想依赖其他的模块中的文件，就可以修改 .gn 文件，修改deps变量，直接把你依赖的文件加进去。此处依赖第三方库jsoncpp。
　注意："//third_party/jsoncpp"行前面不要用Tab键，要用空格。
</p>

<p>
deps += [
    "//third_party/jsoncpp",
  ]
1
2
3
2.ninja编译
​　后缀为 ninja（*.ninja） 的文件是 ninja 的构建文件。对 Chromium来讲，执行完 gn gen 之后，会在 out/Defalut 下生成 build.ninja 文件，可以把这个文件看做是整个 Chromium的“ Makefile ”。它里面调用了各个模块的 ninja 文件。
</p>

<p>
​　要完整编译Chromium，只要在 src 目录执行下列命令：
</p>

<p>
ninja -C out/Defalut
1
​　或者执行：
</p>

<p>
cd out/Defalut
ninja
1
2
​　要编译某个模块，可以在 ninja 命令后跟模块名字（build.ninja文件中定义的构建目标，就像 Makefile 中的构建目标一样）。比如：
</p>

<p>
// 构建 chrome
ninja chrome
// 构建 content
ninja content
1
2
3
4
二、Release
编译release版的chrome步骤：
</p>

<p>
​　S1：设置GN的编译参数
</p>

<p>
is_debug = false
is_component_build = false
is_official_build = false
target_cpu = "x64"
symbol_level = 0
blink_symbol_level = 0
ffmpeg_branding = "Chrome"
enable_nacl = false
enable_iterator_debugging = false
proprietary_codecs = true
1
2
3
4
5
6
7
8
9
10
11
S2：执行gn命令(src目录下)
</p>

<p>
gn gen &#x2013;ide=vs2019 &#x2013;winsdk=10.0.18362.1 &#x2013;filters=//chrome &#x2013;no-deps out/Release
gn args out/Release
1
2
​　S3：ninja命令(src目录下)
</p>

<p>
ninja -C out/Release chrome
1
​　编译完成后，会在src目录下生成Release目录。
————————————————
版权声明：本文为CSDN博主「南方有乔木」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：<a href="https://blog.csdn.net/qq_27022241/article/details/103921721">https://blog.csdn.net/qq_27022241/article/details/103921721</a>
</p>




<p>
有效参考：
<a href="https://www.cnblogs.com/kanego/p/4086686.html">https://www.cnblogs.com/kanego/p/4086686.html</a>
<a href="https://blog.csdn.net/longji/article/details/80967225">https://blog.csdn.net/longji/article/details/80967225</a>
<a href="https://www.itmaohome.com/windows-soft/563.html">https://www.itmaohome.com/windows-soft/563.html</a>
<a href="https://blog.csdn.net/glunoy/article/details/23591047">https://blog.csdn.net/glunoy/article/details/23591047</a>
</p>

<p>
webrtc编译
<a href="https://www.cnblogs.com/welen/articles/7245160.html">https://www.cnblogs.com/welen/articles/7245160.html</a>
<a href="https://blog.csdn.net/yangzhenping/article/details/52399897">https://blog.csdn.net/yangzhenping/article/details/52399897</a>
</p>

<p>
官网：
www.chromium.org
</p>

<p>
开发环境：
python2.7
vs2019
git
</p>

<p>
环境变量：
path:
    python
    depot_tools  地址：git clone <a href="https://chromium.googlesource.com/chromium/tools/depot_tools.git">https://chromium.googlesource.com/chromium/tools/depot_tools.git</a>
</p>

<p>
DEPOT_TOOLS_WIN_TOOLCHAIN=0
GYP_MSVS_VERSION=2019
GOOGLE_API_KEY： AIzaSyAXSMNnXzu_QmAK3fT1dZEUoLcEtWEGJ34
GOOGLE_DEFAULT_CLIENT_ID: 911346923178-7qrncmo5es0c15ebl5fg0bjjq2h38s4d.apps.googleusercontent.com
GOOGLE_DEFAULT_CLIENT_SECRET: xvRT-HtLE2y2UJTtBDqP68s-
GYP_GENERATORS=msvs-ninja,ninja   //这个参数的说明 <a href="http://www.mamicode.com/info-detail-1307103.html">http://www.mamicode.com/info-detail-1307103.html</a>
GYP_MSVS_OVERRIDE_PATH=vs安装路径,例如：C:\Program Files (x86)\Microsoft Visual Studio\2019\Professional
</p>

<p>
mac版推荐参数如下：
target_os = "mac"
target_cpu = "x64"
is_debug = false
symbol_level = 0
is_official_build=true
</p>

<p>
当前路径下新建depot_tools目录，在depot_tools目录下执行
</p>

<p>
git clone <a href="https://chromium.googlesource.com/chromium/tools/depot_tools.git">https://chromium.googlesource.com/chromium/tools/depot_tools.git</a>
</p>

<p>
当前路径下新建目录src，并在当前路径下执行
fetch chromium
is_component_build
编译选项：
target_cpu=“x86”：指明生成的针对X86架构的CPU。
is_debug=false：指明生成的是Release版本可执行程序。
is_official_build=true：指明使用Chrome官方的编译优化建议。
proprietary_codecs：指明支持H264编码，编译时，自动H264相关组件，打包PE文件中。
enable_nacl=false：Native Client，指明关闭支持NACL，这是一种Chrome插件，因为安全性，稳定性存在问题，已经很少使用了。
remove_webcore_debug_symbols=true：指明删除内核层支持调试的符号文件，这样，有助于减少文件体积，提高运行速度。
Component build=true是将最后一步本来很长的链接操作，改为链接成很多个分离的共享库的操作。它是默认的debug版的编译方式（除iOS编译），
    并且大多数开发者使用这种模式用于每天的编译及调试。这种模式启动会很慢，
    而且一些链接优化会被禁用，所以这不是测试的标准。有些人喜欢在release编译启用这种模式，来获取更快的链接速度和合理的运行性能。
symbol_level = 0 不生成符号文件将使调试几乎成为不可能，但编译确实会更快。当你想尽快编译的时候会很有用
use_goma = true
goma_dir = "/home/me/somewhere/goma"  # Optional Googlers可以使用它来分布式编译。 goma_dir仅当你将Goma工具放在非标准的路径时才
    需要指定（默认的路径为：~/goma or C:\goma\goma-win）。
rtc_use_h264=true 是否使用H264，这里取true，注意Windows平台编码使用OpenH264，解码使用ffmpeg。
</p>

<p>
　　1&gt; 打开e:\cef\source\chromium\src\cef\cef.gypi，variables节下添加如下即可支持mp3/mp4。
</p>

<p>
'proprietary_codecs': 1,
'ffmpeg_branding': 'Chrome',
</p>

<p>
编译步骤：
1.gclient runhooks
</p>

<p>
debug x86:
2.gn gen out/Debug &#x2013;ide=vs2019 &#x2013;args="target_os=\"win\" target_cpu=\"x86\" is_component_build=true is_debug=true is_official_build=false google_api_key=false google_default_client_id=false google_default_client_secret=false proprietary_codecs=true media_use_ffmpeg=true ffmpeg_branding=\"Chrome\" remove_webcore_debug_symbols=tfalse enable_nacl=false enable_hevc_demuxing=true enable_dolby_vision_demuxing=true enable_mse_mpeg2ts_stream_parser=true enable_hls_sample_aes=true enable_ac3_eac3_audio_demuxing=true"
3.ninja -C out\Debug chrome setup mini_installer
</p>

<p>
release x86:
gn gen out/Release &#x2013;ide=vs2019 &#x2013;args="target_os=\"win\" target_cpu=\"x86\" is_component_build=false is_debug=false is_official_build=true google_api_key=false google_default_client_id=false google_default_client_secret=false proprietary_codecs=true media_use_ffmpeg=true ffmpeg_branding=\"Chrome\" remove_webcore_debug_symbols=true enable_nacl=false enable_hevc_demuxing=true enable_dolby_vision_demuxing=true enable_mse_mpeg2ts_stream_parser=true enable_hls_sample_aes=true enable_ac3_eac3_audio_demuxing=true"
ninja -C out\Release chrome mini_installer
</p>

<p>
指定sdk版本号
&#x2013;winsdk=xxxxx
查看目前工程构建的依赖
gn desc out/Debug &lt;targetName&gt; &#x2013;all &#x2013;tree
</p>

<p>
建议使用浏览器历史或当前相同的版本分支
chrome发布版本查看：
<a href="https://omahaproxy.appspot.com/">https://omahaproxy.appspot.com/</a>
<a href="https://www.chromedownloads.net/chrome64win/">https://www.chromedownloads.net/chrome64win/</a>
</p>

<p>
代码下载：
<a href="http://commondatastorage.googleapis.com/chromium-browser-official/chromium-79.0.3945.117.tar.xz">http://commondatastorage.googleapis.com/chromium-browser-official/chromium-79.0.3945.117.tar.xz</a>
</p>

<p>
拉分支
git checkout -b 79.0.3945.117_local 79.0.3945.117
</p>

<p>
查看分支
git show-ref &#x2013;tags
<a href="https://omahaproxy.appspot.com/history">https://omahaproxy.appspot.com/history</a>
</p>

<p>
切换分支
git checkout -b local_79.0.3945.117 79.0.3945.117
</p>

<p>
查看当前所属分支
git branch -vv
</p>

<p>
同步分支
gclient sync &#x2013;with_branch_heads
</p>

<p>
切换分支后清除编译生成文件(手动删除也可以) 删除输出目录下除args.gn文件外的所有内容
gn clean &lt;out_dir&gt;
</p>

<p>
python -m ensurepip
pip install pypiwin32
pip install win32file
<a href="https://sourceforge.net/projects/pywin32/files/pywin32/">https://sourceforge.net/projects/pywin32/files/pywin32/</a>
<a href="https://github.com/mhammond/pywin32/releases">https://github.com/mhammond/pywin32/releases</a>
<a href="https://www.python.org/downloads/release/python-2717/">https://www.python.org/downloads/release/python-2717/</a>
python pywin32_postinstall.py -install
for %1 in (%windir%\system32\*.dll) do regsvr32.exe /s %1
</p>

<p>
<a href="https://troubleshooter.xyz/wiki/fix-application-error-0xc0000142/">https://troubleshooter.xyz/wiki/fix-application-error-0xc0000142/</a>
<a href="https://media.computerbase.de/s/KwsNdcLj2V6FKDY5TcJ41Q/1582109533/download/758/aio-runtimes_v2.4.9.exe">https://media.computerbase.de/s/KwsNdcLj2V6FKDY5TcJ41Q/1582109533/download/758/aio-runtimes_v2.4.9.exe</a>
</p>

<p>
vs 子进程调试（因为浏览器基于多进程，调试的时候无法直接调试到子进程，可以使用这个工具，或者直接附加到对应的子进程）
<a href="https://devblogs.microsoft.com/devops/introducing-the-child-process-debugging-power-tool/">https://devblogs.microsoft.com/devops/introducing-the-child-process-debugging-power-tool/</a>
</p>

<p>
原文链接：<a href="https://blog.csdn.net/rqf520/article/details/104449839">https://blog.csdn.net/rqf520/article/details/104449839</a>
</p>



<p>
<a href="https://www.chromium.org/developers/gn-build-configuration/">https://www.chromium.org/developers/gn-build-configuration/</a>
</p>

<p>
GN build configuration
This page provides some common build setups for the GN build. It assumes you already got a Chromium checkout.
</p>

<p>
See also
</p>

<p>
Run "gn help" from the command line.
All GN Docs
GN Quick Start Guide
GN Reference (a dump of everything from "gn help" in one web page).
Understanding GN build flags
Recall that in GN, you pick your own build directory. These should generally go in a subdirectory of src/out. You set build arguments on a build directory by typing:
</p>

<p>
$ gn args out/mybuild
This will bring up an editor. The format of the stuff in the args file is just GN code, so set variables according to normal GN syntax (true/false for booleans, double-quotes for string values, # for comments). When you close the editor, a build will be made in that directory. To change the arguments for an existing build, just re-run this command on the existing directory.
</p>

<p>
You can get a list of all available build arguments for a given build directory, with documentation, by typing
</p>

<p>
$ gn args out/mybuild &#x2013;list
To get documentation for a single flag (in this example, is_component_build):
</p>

<p>
$ gn args out/mybuild &#x2013;list=is_component_build
You have to list your build directory as the first argument because the available arguments and their default values are build-specific. For example, setting Android as your target OS might expose new Android-specific build arguments or use different default values.
</p>

<p>
"GN args" as used on this page are not the command line arguments passed to GN. They refer to the individual variables that are passed as part of the &#x2013;args command line flag and/or written to the args.gn file.
</p>

<p>
Common build variants
Release build
The default GN build is debug. To do a release build:
</p>

<p>
is_debug = false
On Android, you can toggle ProGuard on/off with:
</p>

<p>
is_java_debug = false # Defaults to is_debug.
Trybots that run release builds have DCHECKs enabled, to catch potential bugs.
</p>

<p>
dcheck_always_on = true
Component build
The component build links many parts of Chrome into separate shared libraries to avoid the long link step at the end. It is the default when compiling debug non-iOS builds and most developers use this mode for everyday builds and debugging. Startup is slower and some linker optimizations won't work, so don't do benchmarks in this mode. Some people like to turn it on for release builds to get both faster links and reasonable runtime performance.
</p>

<p>
is_component_build = true
Faster builds with no or minimal symbols
The symbol_level setting varies from 0 (no symbols or minimal symbols) to 2 (full symbols). Lower levels make debugging almost impossible, but the build will be much faster. It can be useful in some cases where you just want a build ASAP (many build bots do this).
</p>

<p>
symbol_level = 0
Alternately you can set symbol_level=1 which will build almost as fast as symbol_level=0 but will give you additional information in call stacks.
</p>

<p>
Disable Native Client
Most developers don't normally need to test Native Client capabilities and can speed up the build by disabling it.
</p>

<p>
enable_nacl = false
Remove WebCore symbols
WebCore has lots of templates that account for a large portion of the debugging symbols. If you're not debugging WebCore, you can set the blink symbol level to 0 or 1:
</p>

<p>
blink_symbol_level=0
Remove v8 symbols
v8 is often the second-largest source of debugging symbols. If you're not debugging v8, you can set the v8 symbol level to 0 or 1:
</p>

<p>
v8_symbol_level=0
Overriding the CPU architecture
By default, the GN build will match that of the host OS and CPU architecture. To override:
</p>

<p>
target_cpu = "x86"
Possible values for the target_cpu:
</p>

<p>
Windows supports "x86" and "x64". Since building is only supported on 64-bit machines, the default will always be "x64".
Mac and desktop Linux supports only "x64". On desktop Linux you might also theoretically try any of the ARM or MIPS architecture strings form the Android section below, but these aren't supported or tested and you will also need a sysroot.
Chrome OS supports "x86" and "x64", but to build a 32-bit binary you will need to use a sysroot on a 64-bit machine.
If you specify an Android build (see below) the default CPU architecture will be "arm". You could try overriding it to "arm64", "x86", "mipsel", or "mips64el" but the GN builds for these aren't regularly tested.
Goma
Googlers can use this for distributed builds. goma_dir is only required if you use the Goma tools not in the depot_tools.
</p>

<p>
use_goma = true
goma_dir = "/home/me/somewhere/goma" # Optional
Official Chrome build
This build requires that you are a Googler with src-internal checked out.
</p>

<p>
Use these args for official builds:
</p>

<p>
is_official_build = true
is_chrome_branded = true
is_debug = false
For 32-bit official builds, append this arg to the above set:
</p>

<p>
target_cpu = "x86"
On Windows and Mac you also need to add the following entry to your .gclient file to automatically fetch the PGO profiles required to do an official build:
</p>

<p>
solutions = [
  {
    "name": "src",
</p>

<p>
    "custom_vars": {
      "checkout_pgo_profiles": True,
    },
  },
],
You can also set the following GN argument to disable PGO if needed:
chrome_pgo_phase = 0
Windows
There is a gn gen argument (&#x2013;ide) for producing Visual Studio project and solution files:
</p>

<p>
$ gn gen out\mybuild &#x2013;ide=vs
Projects are configured for VS 2019 by default.
</p>

<p>
See this page for more information on configuring Chromium builds for Windows.
</p>

<p>
Android build (from Linux)
This assumes you've already followed the Android build instructions to check out.
</p>

<p>
It is easy to use the same checkout on Linux to build both Android and desktop Linux versions of Chrome. Your .gclient file must list Android, however, to get the proper SDKs downloaded. This will happen automatically if you follow the Android checkout instructions. To add this to an existing Linux checkout, add target_os to your .gclient file (in the directory above src), and run gclient runhooks.
</p>

<p>
solutions = [
  &#x2026;existing stuff in here&#x2026;
]
target_os = [ 'android' ]  # Add this to get Android stuff checked out.
Chrome OS build (from Linux)
This will build the Chrome OS variant of the browser that is distributed with the operating system. You can run it on your Linux desktop for feature development.
</p>

<p>
target_os = "chromeos"
Checkouts which are used to build Chrome OS builds must also have 'chromeos' added to the target_os list in the .gclient file. After making this change, you will need to run gclient sync once.
</p>

<p>
solutions = [
   &#x2026;existing stuff in here&#x2026;
]
target_os = ['chromeos']
</p>
</div>
<div id="postamble" class="status">
<p class="author">Author: nandfan</p>
<p class="email">Email: <a href="mailto:nanders.fan@outlook.com">nanders.fan@outlook.com</a></p>
<p class="date">Created: 2024-06-23 Sun 15:56</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
