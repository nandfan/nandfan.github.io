<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="472px" preserveAspectRatio="none" style="width:256px;height:472px;" version="1.1" viewBox="0 0 256 472" width="256px" zoomAndPan="magnify"><defs><filter height="300%" id="fla8xcv92b6qh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="134" x="60" y="30.8799">vcl_bapi_attach</text><ellipse cx="127.5" cy="46.0638" fill="#000000" filter="url(#fla8xcv92b6qh)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fla8xcv92b6qh)" height="37.3761" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="82" y="76.0638"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="92" y="99.9839">vcl_bapi_init</text><rect fill="#FFFFFF" filter="url(#fla8xcv92b6qh)" height="164.4003" style="stroke: #000000; stroke-width: 2.0;" width="225" x="15" y="124.9719"/><path d="M111,125.9719 L111,138.2439 L101,148.2439 L15,148.2439 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="18" y="142.2119">vcl_bapi_init</text><rect fill="#FEFECE" filter="url(#fla8xcv92b6qh)" height="54.7522" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="205" x="25" y="165.2439"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="35" y="189.1639">vcl_bapi_connect_to_vpp</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="185" x="35" y="206.5401">vcl.conf中api-socket-name配置项</text><rect fill="#FEFECE" filter="url(#fla8xcv92b6qh)" height="37.3761" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="47.5" y="239.9961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="57.5" y="263.9162">vcl_bapi_session_enable</text><rect fill="#FEFECE" filter="url(#fla8xcv92b6qh)" height="37.3761" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="55.5" y="309.3722"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="65.5" y="333.2923">vcl_bapi_send_attach</text><rect fill="#FEFECE" filter="url(#fla8xcv92b6qh)" height="54.7522" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="10" y="366.7483"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="215" x="20" y="390.6684">vcl_bapi_wait_for_wrk_state_change</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="23" y="408.0446">等待状态变为STATE_APP_ATTACHED</text><ellipse cx="127.5" cy="451.5006" fill="#FFFFFF" filter="url(#fla8xcv92b6qh)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="121.3128" x2="133.6872" y1="445.3134" y2="457.6878"/><line style="stroke: #000000; stroke-width: 2.5;" x1="133.6872" x2="121.3128" y1="445.3134" y2="457.6878"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="56.0638" y2="76.0638"/><polygon fill="#A80036" points="123.5,66.0638,127.5,76.0638,131.5,66.0638,127.5,70.0638" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="219.9961" y2="239.9961"/><polygon fill="#A80036" points="123.5,229.9961,127.5,239.9961,131.5,229.9961,127.5,233.9961" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="113.44" y2="165.2439"/><polygon fill="#A80036" points="123.5,155.2439,127.5,165.2439,131.5,155.2439,127.5,159.2439" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="277.3722" y2="309.3722"/><polygon fill="#A80036" points="123.5,299.3722,127.5,309.3722,131.5,299.3722,127.5,303.3722" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="346.7483" y2="366.7483"/><polygon fill="#A80036" points="123.5,356.7483,127.5,366.7483,131.5,356.7483,127.5,360.7483" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127.5" x2="127.5" y1="421.5006" y2="441.5006"/><polygon fill="#A80036" points="123.5,431.5006,127.5,441.5006,131.5,431.5006,127.5,435.5006" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[231286766b74edb77d17e6c3ad39fff8]
@startuml
title vcl_bapi_attach
start
:vcl_bapi_init;
partition vcl_bapi_init {
  :vcl_bapi_connect_to_vpp
  vcl.conf中api-socket-name配置项;
  :vcl_bapi_session_enable;
}
:vcl_bapi_send_attach;
:vcl_bapi_wait_for_wrk_state_change
 等待状态变为STATE_APP_ATTACHED;
end
@enduml

PlantUML version 1.2020.02(Sun Mar 01 18:22:07 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.11+9-Debian-1deb12u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>