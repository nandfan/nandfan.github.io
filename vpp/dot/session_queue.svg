<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: session_queue Pages: 1 -->
<svg width="580pt" height="864pt"
 viewBox="0.00 0.00 580.00 864.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 860)">
<title>session_queue</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-860 576,-860 576,4 -4,4"/>
<text text-anchor="middle" x="286" y="-7.8" font-family="Times,serif" font-size="14.00">session相关结构</text>
<!-- sm -->
<g id="node1" class="node">
<title>sm</title>
<polygon fill="#00b2ee" stroke="transparent" points="8,-477 8,-493 246,-493 246,-477 8,-477"/>
<text text-anchor="start" x="87.5" y="-482.2" font-family="Microsoft YaHei" font-size="11.00">session_main_t</text>
<polygon fill="none" stroke="black" points="8,-459 8,-477 246,-477 246,-459 8,-459"/>
<text text-anchor="start" x="66.5" y="-465.2" font-family="Microsoft YaHei" font-size="11.00">session_worker_t *wrk;</text>
<polygon fill="none" stroke="black" points="8,-441 8,-459 246,-459 246,-441 8,-441"/>
<text text-anchor="start" x="44" y="-447.2" font-family="Microsoft YaHei" font-size="11.00">fifo_segment_t evt_qs_segment;</text>
<polygon fill="none" stroke="black" points="8,-423 8,-441 246,-441 246,-423 8,-423"/>
<text text-anchor="start" x="30.5" y="-429.2" font-family="Microsoft YaHei" font-size="11.00">u32 unique_segment_name_counter;</text>
<polygon fill="none" stroke="black" points="8,-405 8,-423 246,-423 246,-405 8,-405"/>
<text text-anchor="start" x="35" y="-411.2" font-family="Microsoft YaHei" font-size="11.00">session_fifo_rx_fn **session_tx_fns;</text>
<polygon fill="none" stroke="black" points="8,-387 8,-405 246,-405 246,-387 8,-387"/>
<text text-anchor="start" x="56.5" y="-393.2" font-family="Microsoft YaHei" font-size="11.00">u32 *session_type_to_next;</text>
<polygon fill="none" stroke="black" points="8,-369 8,-387 246,-387 246,-369 8,-369"/>
<text text-anchor="start" x="12" y="-375.2" font-family="Microsoft YaHei" font-size="11.00">transport_proto_t last_transport_proto_type;</text>
<polygon fill="none" stroke="black" points="8,-351 8,-369 246,-369 246,-351 8,-351"/>
<text text-anchor="start" x="89.5" y="-357.2" font-family="Microsoft YaHei" font-size="11.00">u8 is_enabled;</text>
<polygon fill="none" stroke="black" points="8,-333 8,-351 246,-351 246,-333 8,-333"/>
<text text-anchor="start" x="85.5" y="-339.2" font-family="Microsoft YaHei" font-size="11.00">u8 is_initialized;</text>
<polygon fill="none" stroke="black" points="8,-315 8,-333 246,-333 246,-315 8,-315"/>
<text text-anchor="start" x="63.5" y="-321.2" font-family="Microsoft YaHei" font-size="11.00">u8 session_enable_asap;</text>
<polygon fill="none" stroke="black" points="8,-297 8,-315 246,-315 246,-297 8,-297"/>
<text text-anchor="start" x="91.5" y="-303.2" font-family="Microsoft YaHei" font-size="11.00">u8 poll_main;</text>
<polygon fill="none" stroke="black" points="8,-279 8,-297 246,-297 246,-279 8,-279"/>
<text text-anchor="start" x="31" y="-285.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_event_queue_length;</text>
<polygon fill="none" stroke="black" points="8,-261 8,-279 246,-279 246,-261 8,-261"/>
<text text-anchor="start" x="67.5" y="-267.2" font-family="Microsoft YaHei" font-size="11.00">uword session_baseva;</text>
<polygon fill="none" stroke="black" points="8,-243 8,-261 246,-261 246,-243 8,-243"/>
<text text-anchor="start" x="50" y="-249.2" font-family="Microsoft YaHei" font-size="11.00">uword session_va_space_size;</text>
<polygon fill="none" stroke="black" points="8,-225 8,-243 246,-243 246,-225 8,-225"/>
<text text-anchor="start" x="53" y="-231.2" font-family="Microsoft YaHei" font-size="11.00">uword evt_qs_segment_size;</text>
<polygon fill="none" stroke="black" points="8,-207 8,-225 246,-225 246,-207 8,-207"/>
<text text-anchor="start" x="17" y="-213.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v4_session_table_buckets;</text>
<polygon fill="none" stroke="black" points="8,-189 8,-207 246,-207 246,-189 8,-189"/>
<text text-anchor="start" x="15" y="-195.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v4_session_table_memory;</text>
<polygon fill="none" stroke="black" points="8,-171 8,-189 246,-189 246,-171 8,-171"/>
<text text-anchor="start" x="13.5" y="-177.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v4_halfopen_table_buckets;</text>
<polygon fill="none" stroke="black" points="8,-153 8,-171 246,-171 246,-153 8,-153"/>
<text text-anchor="start" x="11" y="-159.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v4_halfopen_table_memory;</text>
<polygon fill="none" stroke="black" points="8,-135 8,-153 246,-153 246,-135 8,-135"/>
<text text-anchor="start" x="17" y="-141.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v6_session_table_buckets;</text>
<polygon fill="none" stroke="black" points="8,-117 8,-135 246,-135 246,-117 8,-117"/>
<text text-anchor="start" x="15" y="-123.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v6_session_table_memory;</text>
<polygon fill="none" stroke="black" points="8,-99 8,-117 246,-117 246,-99 8,-99"/>
<text text-anchor="start" x="13.5" y="-105.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v6_halfopen_table_buckets;</text>
<polygon fill="none" stroke="black" points="8,-81 8,-99 246,-99 246,-81 8,-81"/>
<text text-anchor="start" x="11" y="-87.2" font-family="Microsoft YaHei" font-size="11.00">u32 configured_v6_halfopen_table_memory;</text>
<polygon fill="none" stroke="black" points="8,-63 8,-81 246,-81 246,-63 8,-63"/>
<text text-anchor="start" x="33" y="-69.2" font-family="Microsoft YaHei" font-size="11.00">u32 local_endpoints_table_memory;</text>
<polygon fill="none" stroke="black" points="8,-45 8,-63 246,-63 246,-45 8,-45"/>
<text text-anchor="start" x="35" y="-51.2" font-family="Microsoft YaHei" font-size="11.00">u32 local_endpoints_table_buckets;</text>
<polygon fill="none" stroke="black" points="8,-27 8,-45 246,-45 246,-27 8,-27"/>
<text text-anchor="start" x="57.5" y="-33.2" font-family="Microsoft YaHei" font-size="11.00">u32 preallocated_sessions;</text>
</g>
<!-- swp -->
<g id="node2" class="node">
<title>swp</title>
<polygon fill="#00b2ee" stroke="transparent" points="444,-452 444,-468 564,-468 564,-452 444,-452"/>
<text text-anchor="start" x="446" y="-457.2" font-family="Microsoft YaHei" font-size="11.00">session_worker_t pool</text>
<polygon fill="none" stroke="black" points="444,-434 444,-452 564,-452 564,-434 444,-434"/>
<text text-anchor="start" x="500.5" y="-440.2" font-family="Microsoft YaHei" font-size="11.00">0</text>
<polygon fill="none" stroke="black" points="444,-416 444,-434 564,-434 564,-416 444,-416"/>
<text text-anchor="start" x="500.5" y="-422.2" font-family="Microsoft YaHei" font-size="11.00">1</text>
<polygon fill="none" stroke="black" points="444,-398 444,-416 564,-416 564,-398 444,-398"/>
<text text-anchor="start" x="500.5" y="-404.2" font-family="Microsoft YaHei" font-size="11.00">2</text>
<polygon fill="none" stroke="black" points="444,-380 444,-398 564,-398 564,-380 444,-380"/>
<text text-anchor="start" x="499" y="-386.2" font-family="Microsoft YaHei" font-size="11.00">...</text>
<polygon fill="none" stroke="black" points="444,-362 444,-380 564,-380 564,-362 444,-362"/>
<text text-anchor="start" x="500.5" y="-368.2" font-family="Microsoft YaHei" font-size="11.00">n</text>
</g>
<!-- sm&#45;&gt;swp -->
<g id="edge1" class="edge">
<title>sm:swp&#45;&gt;swp:n</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M247,-468C357.65,-468 495.1,-576.13 503.59,-479.05"/>
<polygon fill="black" stroke="black" points="507.09,-479.14 504,-469 500.09,-478.85 507.09,-479.14"/>
<text text-anchor="middle" x="345" y="-513.2" font-family="Microsoft YaHei" font-size="11.00">指向session_worker_t内存池</text>
</g>
<!-- sw -->
<g id="node3" class="node">
<title>sw</title>
<polygon fill="#00b2ee" stroke="transparent" points="25,-807 25,-823 230,-823 230,-807 25,-807"/>
<text text-anchor="start" x="82.5" y="-812.2" font-family="Microsoft YaHei" font-size="11.00">session_worker_t</text>
<polygon fill="none" stroke="black" points="25,-789 25,-807 230,-807 230,-789 25,-789"/>
<text text-anchor="start" x="76" y="-795.2" font-family="Microsoft YaHei" font-size="11.00">session_t *sessions;</text>
<polygon fill="none" stroke="black" points="25,-771 25,-789 230,-789 230,-771 25,-771"/>
<text text-anchor="start" x="41" y="-777.2" font-family="Microsoft YaHei" font-size="11.00">svm_msg_q_t *vpp_event_queue;</text>
<polygon fill="none" stroke="black" points="25,-753 25,-771 230,-771 230,-753 25,-753"/>
<text text-anchor="start" x="47.5" y="-759.2" font-family="Microsoft YaHei" font-size="11.00">clib_time_type_t last_vlib_time;</text>
<polygon fill="none" stroke="black" points="25,-735 25,-753 230,-753 230,-735 25,-735"/>
<text text-anchor="start" x="44" y="-741.2" font-family="Microsoft YaHei" font-size="11.00">clib_us_time_t last_vlib_us_time;</text>
<polygon fill="none" stroke="black" points="25,-717 25,-735 230,-735 230,-717 25,-717"/>
<text text-anchor="start" x="83.5" y="-723.2" font-family="Microsoft YaHei" font-size="11.00">vlib_main_t *vm;</text>
<polygon fill="none" stroke="black" points="25,-699 25,-717 230,-717 230,-699 25,-699"/>
<text text-anchor="start" x="56.5" y="-705.2" font-family="Microsoft YaHei" font-size="11.00">u32 **session_to_enqueue;</text>
<polygon fill="none" stroke="black" points="25,-681 25,-699 230,-699 230,-681 25,-681"/>
<text text-anchor="start" x="63.5" y="-687.2" font-family="Microsoft YaHei" font-size="11.00">session_tx_context_t ctx;</text>
<polygon fill="none" stroke="black" points="25,-663 25,-681 230,-681 230,-663 25,-663"/>
<text text-anchor="start" x="85" y="-669.2" font-family="Microsoft YaHei" font-size="11.00">u32 *tx_buffers;</text>
<polygon fill="none" stroke="black" points="25,-645 25,-663 230,-663 230,-645 25,-645"/>
<text text-anchor="start" x="53" y="-651.2" font-family="Microsoft YaHei" font-size="11.00">session_evt_elt_t *event_elts;</text>
<polygon fill="none" stroke="black" points="25,-627 25,-645 230,-645 230,-627 25,-627"/>
<text text-anchor="start" x="28" y="-633.2" font-family="Microsoft YaHei" font-size="11.00">session_evt_ctrl_data_t *ctrl_evts_data;</text>
<polygon fill="none" stroke="black" points="25,-609 25,-627 230,-627 230,-609 25,-609"/>
<text text-anchor="start" x="59" y="-615.2" font-family="Microsoft YaHei" font-size="11.00">clib_llist_index_t ctrl_head;</text>
<polygon fill="none" stroke="black" points="25,-591 25,-609 230,-609 230,-591 25,-591"/>
<text text-anchor="start" x="56.5" y="-597.2" font-family="Microsoft YaHei" font-size="11.00">clib_llist_index_t new_head;</text>
<polygon fill="none" stroke="black" points="25,-573 25,-591 230,-591 230,-573 25,-573"/>
<text text-anchor="start" x="59" y="-579.2" font-family="Microsoft YaHei" font-size="11.00">clib_llist_index_t old_head;</text>
<polygon fill="none" stroke="black" points="25,-555 25,-573 230,-573 230,-555 25,-555"/>
<text text-anchor="start" x="45.5" y="-561.2" font-family="Microsoft YaHei" font-size="11.00">clib_rwlock_t peekers_rw_locks;</text>
<polygon fill="none" stroke="black" points="25,-537 25,-555 230,-555 230,-537 25,-537"/>
<text text-anchor="start" x="61" y="-543.2" font-family="Microsoft YaHei" font-size="11.00">u32 *pending_tx_buffers;</text>
<polygon fill="none" stroke="black" points="25,-519 25,-537 230,-537 230,-519 25,-519"/>
<text text-anchor="start" x="66" y="-525.2" font-family="Microsoft YaHei" font-size="11.00">u16 *pending_tx_nexts;</text>
</g>
<!-- sp -->
<g id="node4" class="node">
<title>sp</title>
<polygon fill="#00b2ee" stroke="transparent" points="465,-782 465,-798 543,-798 543,-782 465,-782"/>
<text text-anchor="start" x="467" y="-787.2" font-family="Microsoft YaHei" font-size="11.00">session_t pool</text>
<polygon fill="none" stroke="black" points="465,-764 465,-782 543,-782 543,-764 465,-764"/>
<text text-anchor="start" x="500.5" y="-770.2" font-family="Microsoft YaHei" font-size="11.00">0</text>
<polygon fill="none" stroke="black" points="465,-746 465,-764 543,-764 543,-746 465,-746"/>
<text text-anchor="start" x="500.5" y="-752.2" font-family="Microsoft YaHei" font-size="11.00">1</text>
<polygon fill="none" stroke="black" points="465,-728 465,-746 543,-746 543,-728 465,-728"/>
<text text-anchor="start" x="500.5" y="-734.2" font-family="Microsoft YaHei" font-size="11.00">2</text>
<polygon fill="none" stroke="black" points="465,-710 465,-728 543,-728 543,-710 465,-710"/>
<text text-anchor="start" x="499" y="-716.2" font-family="Microsoft YaHei" font-size="11.00">...</text>
<polygon fill="none" stroke="black" points="465,-692 465,-710 543,-710 543,-692 465,-692"/>
<text text-anchor="start" x="500.5" y="-698.2" font-family="Microsoft YaHei" font-size="11.00">n</text>
</g>
<!-- sw&#45;&gt;sp -->
<g id="edge2" class="edge">
<title>sw:sp&#45;&gt;sp:n</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M231,-798C348.78,-798 495.14,-913.27 503.61,-809.05"/>
<polygon fill="black" stroke="black" points="507.11,-809.13 504,-799 500.12,-808.86 507.11,-809.13"/>
<text text-anchor="middle" x="345" y="-847.2" font-family="Microsoft YaHei" font-size="11.00">指向session_t内存池</text>
</g>
</g>
</svg>
